<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Adults 18+ — Blossom & Blade</title>
  <link rel="stylesheet" href="/styles/home.css?v=19" />
  <style>
    .gate { max-width: 820px; margin: 12px auto; }
    .gate h1 { margin: 0 0 8px; }
    .gate p  { color: var(--ink); margin: 8px 0; }
    .block { background: rgba(255,255,255,.02); border:1px solid var(--line); border-radius: 16px; padding:16px; margin:14px 0; }
    .checks { display:grid; gap:12px; }
    .row-actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:14px; }
    details{ border:1px dashed var(--line); border-radius:12px; padding:12px; }
    details > summary{ cursor:pointer; font-weight:700; margin:-12px; padding:12px; list-style:none; }
    .muted{ color: var(--muted); font-size: 14px; }
  </style>
</head>
<body>
  <div class="container gate">
    <header class="site-header">
      <div class="brand">Blossom &amp; Blade</div>
      <div class="header-actions">
        <a class="btn" href="/">Main</a>
        <a class="btn" href="/pay.html">Plans</a>
      </div>
    </header>

    <main>
      <h1>Adults 18+ &amp; Consent</h1>
      <p class="muted">One-time check on this device. After this, you won’t see it again.</p>

      <section class="block">
        <p><strong>AI-only, fantasy-forward.</strong> No human-to-human chat or dating here. This is private roleplay with AI characters only. It’s entertainment and may be imperfect.</p>

        <div class="checks">
          <label><input type="checkbox" id="ck18"> I confirm I am <strong>18+</strong> (or older where I live).</label>
          <label><input type="checkbox" id="ckTerms"> I agree to the <a href="/terms.html" target="_blank" rel="noopener">Terms</a> and <a href="/privacy.html" target="_blank" rel="noopener">Privacy Policy</a>.</label>
          <label><input type="checkbox" id="ckRules"> I understand and accept the House Rules below.</label>
          <label><input type="checkbox" id="ckRefund"> I understand purchases are <strong>non-refundable after 24 hours</strong>. Within 24 hours, refunds are only for verified technical access failures.</label>
        </div>
      </section>

      <section class="block">
        <details open>
          <summary>House Rules (what’s allowed vs banned)</summary>
          <ul>
            <li><strong>Allowed:</strong> consensual adult fantasies; adult “Daddy/Mommy” roleplay (explicitly adult), possessive/jealous BF vibes, rough talk, kink negotiation.</li>
            <li><strong>Banned (hard NO):</strong> minors or implied minors; bestiality; non-consensual harm; trafficking; domestic-violence play; scat; necrophilia; doxxing/real-world threats; illegal activity.</li>
            <li>Breaks trigger review; repeat violations may lead to temporary or permanent bans.</li>
          </ul>
          <p class="muted">We keep chats private to you and our system. Limited internal review may occur for safety, fraud, or law compliance. $1 from each purchase supports domestic-violence resources.</p>
        </details>
      </section>

      <div class="row-actions">
        <a id="btnGo" class="btn" href="#">Continue</a>
      </div>

      <p class="muted">You can pause or change vibe anytime using in-chat controls.</p>
    </main>

    <footer class="footer">
      Need support? 988 Suicide &amp; Crisis Lifeline — call or text 988 (US). If you’re in immediate danger, call 911.
    </footer>
  </div>

  <script>
    (function(){
      const qs = new URLSearchParams(location.search);
      const nextRaw = qs.get('next') || '/';
      const next = (nextRaw.startsWith('http')) ? '/' : nextRaw;

      // Skip if already consented
      try{
        if (localStorage.getItem('bb18') === '1' &&
            localStorage.getItem('bbTerms') === '1' &&
            localStorage.getItem('bbRules') === '1' &&
            localStorage.getItem('bbRefund') === '1') {
          location.replace(next);
          return;
        }
      }catch(e){}

      const $ = (id)=>document.getElementById(id);
      const btn = $('btnGo');

      btn.addEventListener('click', function(e){
        e.preventDefault();
        const ok18     = $('ck18').checked;
        const okTerms  = $('ckTerms').checked;
        const okRules  = $('ckRules').checked;
        const okRefund = $('ckRefund').checked;

        if(!ok18 || !okTerms || !okRules || !okRefund){
          alert('Please confirm 18+, accept Terms/Privacy & House Rules, and acknowledge no refunds after 24 hours.');
          return;
        }

        try{
          localStorage.setItem('bb18', '1');
          localStorage.setItem('bbTerms', '1');
          localStorage.setItem('bbRules', '1');
          localStorage.setItem('bbRefund', '1');             // required legal consent
          localStorage.setItem('bbConsentAt', new Date().toISOString());
        }catch(e){}

        location.href = next;
      });
    })();
  </script>
</body>
</html>
