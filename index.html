<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Blossom & Blade — Choose</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/styles/home.css?v=13">

  <style>
    /* tiny guard so empty cards don’t look broken while images load */
    .card .pic{background:linear-gradient(180deg,#111,#1a1f29);display:block;aspect-ratio:1/1;border-radius:18px;overflow:hidden}
    .card .pic img{width:100%;height:100%;object-fit:cover;display:block}
  </style>
</head>
<body class="home">
 <div id="bg" aria-hidden="true"></div> 
  <header class="top">
    <h1>Blossom &amp; Blade</h1>
    <p class="banner">
      <strong>Free 20-minute trial.</strong>
      Day Pass <b>$7.99</b> (pick one) • Monthly <b>$14.99</b> (all six).
      <em>$1 goes to Domestic Violence charity.</em>
    </p>
  </header>

  <main class="grid">
    <!-- Each card only needs data-man. Images are auto-picked by JS. -->
    <article class="card" data-man="blade">
      <a class="pic" href="/age.html?next=/chat.html?man=blade" aria-label="Chat with Blade">
        <img alt="Blade" loading="eager" />
      </a>
      <div class="cta">
        <a class="primary" href="/age.html?next=/chat.html?man=blade">Chat now</a>
        <a class="ghost" href="/chat.html?man=blade">Preview first — no sign-up</a>
      </div>
    </article>

    <article class="card" data-man="viper">
      <a class="pic" href="/age.html?next=/chat.html?man=viper" aria-label="Chat with Viper">
        <img alt="Viper" loading="lazy" />
      </a>
      <div class="cta">
        <a class="primary" href="/age.html?next=/chat.html?man=viper">Chat now</a>
        <a class="ghost" href="/chat.html?man=viper">Preview first — no sign-up</a>
      </div>
    </article>

    <article class="card" data-man="dylan">
      <a class="pic" href="/age.html?next=/chat.html?man=dylan" aria-label="Chat with Dylan">
        <img alt="Dylan" loading="lazy" />
      </a>
      <div class="cta">
        <a class="primary" href="/age.html?next=/chat.html?man=dylan">Chat now</a>
        <a class="ghost" href="/chat.html?man=dylan">Preview first — no sign-up</a>
      </div>
    </article>

    <article class="card" data-man="alexander">
      <a class="pic" href="/age.html?next=/chat.html?man=alexander" aria-label="Chat with Alexander">
        <img alt="Alexander" loading="lazy" />
      </a>
      <div class="cta">
        <a class="primary" href="/age.html?next=/chat.html?man=alexander">Chat now</a>
        <a class="ghost" href="/chat.html?man=alexander">Preview first — no sign-up</a>
      </div>
    </article>

    <article class="card" data-man="grayson">
      <a class="pic" href="/age.html?next=/chat.html?man=grayson" aria-label="Chat with Grayson">
        <img alt="Grayson" loading="lazy" />
      </a>
      <div class="cta">
        <a class="primary" href="/age.html?next=/chat.html?man=grayson">Chat now</a>
        <a class="ghost" href="/chat.html?man=grayson">Preview first — no sign-up</a>
      </div>
    </article>

    <article class="card" data-man="silas">
      <a class="pic" href="/age.html?next=/chat.html?man=silas" aria-label="Chat with Silas">
        <img alt="Silas" loading="lazy" />
      </a>
      <div class="cta">
        <a class="primary" href="/age.html?next=/chat.html?man=silas">Chat now</a>
        <a class="ghost" href="/chat.html?man=silas">Preview first — no sign-up</a>
      </div>
    </article>
  </main>

  <footer class="foot">
    <p>Adults-only, consent-first fantasy romance. Trial is exactly 20 minutes; after that, sending routes to Pay. Monthly memory persists while active; lapses reset memory.</p>
  </footer>

  <script>
    // Pick the first image that actually exists per guy.
    const extras = {
      blade:     ["blade-card.webp","blade-woods.jpg"],
      viper:     ["viper-card-on.webp"],
      dylan:     ["dylan-card-on.webp"],
      alexander: ["alexander-card-on.webp"],
      grayson:   ["grayson-card-on.webp"],
      silas:     ["silas-card-on.webp"],
    };
    function candidates(man){
      const base = [
        `${man}-card-on.webp`,
        `${man}-card-on.jpg`,
        `${man}-card.webp`,
        `${man}-card.jpg`
      ];
      return (extras[man]||[]).concat(base).map(n => `/images/characters/${man}/${n}`);
    }
    function test(url){
      return new Promise((ok,no) => {
        const i = new Image();
        i.onload = () => ok(url);
        i.onerror = () => no(url);
        i.src = url + (url.includes("?")?"&":"?") + "v="+Date.now();
      });
    }
    async function firstExisting(list){
      for (const u of list){ try { await test(u); return u; } catch {} }
      return null;
    }
    (async () => {
      for (const card of document.querySelectorAll(".card[data-man]")) {
        const man = card.getAttribute("data-man");
        const img = card.querySelector("img");
        const url = await firstExisting(candidates(man));
        if (url) img.src = url;
      }
    })();
  </script>
</body>
</html>
