<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Blossom &amp; Blade</title>

  <!-- Landing-only guard & 6-across layout -->
  <style>
    /* Never allow background images inside cards on landing */
    .card .pic{ background-image:none !important; }
    .card .pic img{ display:block !important; width:100%; height:100%; object-fit:cover; }

    /* Base grid is in home.css; force 6-across on big screens */
    @media (min-width: 1200px){
      .grid{ grid-template-columns: repeat(6, 1fr) !important; }
    }
  </style>

  <!-- Unified site styles (v18 = default wallpaper + dark controls) -->
  <link rel="stylesheet" href="/styles/home.css?v=18" />
</head>
<body>
  <div class="container">
    <header class="site-header">
      <div class="brand">Blossom &amp; Blade</div>
      <div class="header-actions">
        <a class="btn" href="/pay.html">Plans</a>
      </div>
    </header>

    <div class="announce">
      <strong>Free 20-minute trial:</strong> test any man. $1 from every subscription supports domestic violence resources.
    </div>

    <main class="grid">
      <!-- Each card carries data-man. Script below injects the correct face image. -->
      <article class="card" data-man="blade">
        <div class="pic"></div>
        <div class="body">
          <a class="btn" href="/age.html?next=/chat.html?man=blade">Chat now</a>
          <a class="btn-ghost" href="/chat.html?man=blade">Preview</a>
        </div>
      </article>

      <article class="card" data-man="viper">
        <div class="pic"></div>
        <div class="body">
          <a class="btn" href="/age.html?next=/chat.html?man=viper">Chat now</a>
          <a class="btn-ghost" href="/chat.html?man=viper">Preview</a>
        </div>
      </article>

      <article class="card" data-man="dylan">
        <div class="pic"></div>
        <div class="body">
          <a class="btn" href="/age.html?next=/chat.html?man=dylan">Chat now</a>
          <a class="btn-ghost" href="/chat.html?man=dylan">Preview</a>
        </div>
      </article>

      <article class="card" data-man="alexander">
        <div class="pic"></div>
        <div class="body">
          <a class="btn" href="/age.html?next=/chat.html?man=alexander">Chat now</a>
          <a class="btn-ghost" href="/chat.html?man=alexander">Preview</a>
        </div>
      </article>

      <article class="card" data-man="grayson">
        <div class="pic"></div>
        <div class="body">
          <a class="btn" href="/age.html?next=/chat.html?man=grayson">Chat now</a>
          <a class="btn-ghost" href="/chat.html?man=grayson">Preview</a>
        </div>
      </article>

      <article class="card" data-man="silas">
        <div class="pic"></div>
        <div class="body">
          <a class="btn" href="/age.html?next=/chat.html?man=silas">Chat now</a>
          <a class="btn-ghost" href="/chat.html?man=silas">Preview</a>
        </div>
      </article>
    </main>

    <footer class="footer">
      Need support? 988 Suicide &amp; Crisis Lifeline — call or text 988 (US). If you’re in immediate danger, call 911.
    </footer>
  </div>

  <!-- Sledgehammer for mobile: inject face images & strip any per-man classes -->
  <script>
    (function(){
      const faces = {
        blade:      "/images/characters/blade/blade-card-on.webp",
        viper:      "/images/characters/viper/viper-card-on.webp",
        dylan:      "/images/characters/dylan/dylan-card-on.webp",
        alexander:  "/images/characters/alexander/alexander-card-on.webp",
        grayson:    "/images/characters/grayson/grayson-card-on.webp",
        silas:      "/images/characters/silas/silas-card-on.webp"
      };
      const bust = "?i=4"; // cache-buster so phones drop stale assets

      document.querySelectorAll('.card').forEach(card => {
        // Remove any old per-man class names that could re-apply BGs
        card.className = 'card';
        const man = card.getAttribute('data-man');
        const pic = card.querySelector('.pic');

        if (pic) {
          pic.style.setProperty('background-image', 'none', 'important');
          let img = pic.querySelector('img');
          if (!img) {
            img = document.createElement('img');
            img.loading = 'lazy';
            img.alt = man.charAt(0).toUpperCase() + man.slice(1);
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'cover';
            pic.appendChild(img);
          }
          if (faces[man]) img.src = faces[man] + bust;
        }
      });
    })();
  </script>
</body>
</html>
